(this["webpackJsonp2u-web-frontend"]=this["webpackJsonp2u-web-frontend"]||[]).push([[29],{1002:function(e,t,a){"use strict";(function(e){var n=a(22),r=a(0),c=a.n(r),l=a(401),o=a(220),s=a(102),i=(a(1022),function(t){var a=t.label,i=t.onChange,u=t.pinError,m=t.shouldClear,f=[];f.push(Object(r.useRef)(null)),f.push(Object(r.useRef)(null)),f.push(Object(r.useRef)(null)),f.push(Object(r.useRef)(null));var d=Object(r.useState)(null),p=Object(n.a)(d,2),E=p[0],g=p[1];return Object(r.useEffect)((function(){f[E]&&f[E].current.focus()}),[f,E]),c.a.createElement("div",{className:"pin-input-form"},c.a.createElement("span",null,e.translate(a,1431)),c.a.createElement(l.a.Field,{className:"pin-input-group"},Array(4).fill().map((function(e,t){return c.a.createElement(o.a,{key:t.toString(),type:"password",name:"digit".concat(t),value:m?"":e,ref:f[t],className:"pin-input",maxLength:"1",onChange:i,onKeyUp:function(e){e.persist(),1===e.target.value.trim().length&&g(parseInt(e.target.name.slice(-1),10)+1)}})}))),u&&c.a.createElement(l.a.Field,{style:{marginTop:"-7px"}},c.a.createElement(s.a,{pointing:!0,prompt:!0},e.translate(u))))});i.defaultProps={label:"Enter your 4 digit PIN",pinError:null,shouldClear:!1},t.a=i}).call(this,a(28))},1010:function(e,t,a){},1014:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(1),r=a(32),c=a(27);t.b=function(e){return function(t){return t(Object(c.a)({method:"post",url:"/TransferConfirmation",data:e,onStart:function(){return function(t){return t({type:r.f,payload:e})}},onSuccess:function(e){return function(t){return t({type:r.g,payload:e})}},onFailure:function(e){return function(t){return t({type:r.e,payload:Object(n.a)({},e)})}}}))}};var l=function(){return function(e){return e({type:r.c})}}},1015:function(e,t,a){"use strict";t.a=function(e){return e.children}},1016:function(e,t,a){"use strict";(function(e){var n=a(0),r=a.n(n),c=a(11),l=a(51),o=(a(1034),a(84)),s=a(1023),i=a(1015);function u(t){var a=t.customStyle,n=t.onChange,u=t.name,m=t.form,f=t.data,d=t.isSendingCash,p=t.walletList,E=t.currentOption,g=t.setCurrentOption,b=t.walletTitle,h=t.destinationContact,v=t.isSelfBuying,N=Object(c.c)((function(e){return e.dashboard.contactActions})).isSendingMoney,y=p&&p.map((function(e){return{id:e.AccountNumber,text:e.AccountNumber,value:e.AccountNumber,Flag:e.Flag,AccountName:e.AccountName,AccountNumber:e.AccountNumber,content:r.a.createElement("div",{className:"flag-wrapper",key:e.AccountName},r.a.createElement(l.a,{src:e.Flag,width:30}),r.a.createElement("div",{className:"left"},r.a.createElement("h5",{className:"account"},e.AccountNumber),r.a.createElement("small",null,"(",e.AccountName,")")))}}));return r.a.createElement("div",{className:"entity-wrapper",style:d?{display:"flex",margin:"auto",flexDirection:"column",alignItems:"center"}:{}},f&&f.data&&r.a.createElement("div",{className:"transacters"}," ",r.a.createElement(o.a,{name:f.data.FirstName,avatar:f.data.PictureURL,secondName:f.data.LastName,height:"75px",width:"75px",style:{height:75,width:75,marginLeft:d?"24px":"0px",alignSelf:d?"center":"flex-end",borderRadius:"50%"}}),!N&&!v&&r.a.createElement(i.a,null," ",r.a.createElement("span",{className:"destination"}," To "),r.a.createElement(o.a,{style:{height:75,width:75,marginLeft:d?"24px":"0px",alignSelf:d?"center":"flex-end",borderRadius:"50%"},name:h.FirstName,avatar:h.PictureURL,secondName:h.LastName,height:75})," ")),r.a.createElement("div",{className:"rightItems",style:{width:a?"116%":"auto"}},r.a.createElement("p",{className:"choose-wallet",style:{textAlign:d?"center":null,marginTop:"-.9rem"}},e.translate(b)),r.a.createElement(s.a,{search:!0,customStyle:!0,options:y,currentOption:E,setCurrentOption:g,onChange:n,className:"custom-dropdown",name:u,keyName:u,value:m[u],renderLabel:function(e){return{content:r.a.createElement("div",{className:"flag-wrapper"},r.a.createElement(l.a,{src:e.dp,width:30}),r.a.createElement("div",{className:"left"},r.a.createElement("h4",{className:"account"},e.AccountNumber),r.a.createElement("small",null,"(",e.AccountName,")")))}}})))}u.defaultProps={onChange:function(){},name:null,isSendingCash:!1,form:{},currentOption:null,data:{},walletList:[],walletTitle:"Choose a wallet",destinationContact:{},isSelfBuying:!1,isSendingMoney:!1,customStyle:!1},t.a=u}).call(this,a(28))},1019:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(1),r=a(32),c=a(27);t.b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/TransferFunds2UWallet",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"send-money";return function(l){return l(Object(c.a)({method:"post",url:t,data:e,onStart:function(){return function(t){return t({type:r.l,payload:e})}},onSuccess:function(e){return function(t){return t({type:r.m,payload:[Object(n.a)({},e[0],{type:a})]})}},onFailure:function(e){return function(t){return t({type:r.k,payload:Object(n.a)({},e)})}}}))}};var l=function(){return function(e){return e({type:r.b})}}},1020:function(e,t,a){},1021:function(e,t,a){},1022:function(e,t,a){},1023:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(103),l=a(51),o=a(26),s=(a(1010),function(e){var t=e.options,a=e.currentOption,n=e.onChange,s=e.keyName,i=e.setCurrentOption,u=e.placeholder,m=e.style;return r.a.createElement(c.a,{style:m,className:"custom-dropdown",trigger:r.a.createElement("span",{className:"dropdown-trigger"},a&&a.AccountNumber?r.a.createElement("div",{className:"dropdown-wallet"},r.a.createElement(l.a,{src:a.Flag,className:"inline"}),r.a.createElement("div",null,r.a.createElement("div",null,a.AccountNumber),r.a.createElement("span",null,a.AccountName&&"(".concat(a.AccountName,")")))):r.a.createElement("span",{className:"placeholder"},u),r.a.createElement(o.a,{name:"caret down",className:"inline"})),icon:null},r.a.createElement(c.a.Menu,null,r.a.createElement(c.a.Menu,{scrolling:!0},t&&t.map((function(e,t){var a=e.AccountNumber,o=e.Flag,u=e.AccountName;return r.a.createElement(c.a.Item,{key:a+t.toString(),onClick:function(e){n({target:{name:s,value:a}},{name:s,value:a}),i({AccountNumber:a,Flag:o,AccountName:u||""})}},r.a.createElement("span",{className:"dropdown-trigger"},r.a.createElement("div",{className:"dropdown-wallet"},r.a.createElement(l.a,{src:o,className:"inline"}),r.a.createElement("div",null,r.a.createElement("div",null,a),r.a.createElement("span",null,u&&"(".concat(u,")"))))))})))))});s.defaultProps={options:[],currentOption:{},onChange:function(){return null},keyName:"WalletNumber",setCurrentOption:function(){},placeholder:"Select Wallet"},t.a=s},1033:function(e,t,a){},1034:function(e,t,a){},1139:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=function(e){var t=["th","st","nd","rd"],a=e%100;return e+(t[(a-20)%10]||t[a]||t[0])},r=function(){for(var e=[],t=1;t<=31;t+=1)e.push({day:t,val:n(t)});return e}},1155:function(e,t,a){"use strict";var n=a(1),r=a(109),c=a(27);t.a=function(e){return function(t){return t(Object(c.a)({method:"post",url:"/GetLastTransactionContacts",data:e,onStart:function(){return function(e){return e({type:r.f})}},onSuccess:function(e){return function(t){return t({type:r.g,payload:e})}},onFailure:function(e){return function(t){return t({type:r.e,payload:Object(n.a)({},e)})}}}))}}},1425:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=(a(1033),a(2)),l=a.n(c),o=a(1426),s=function(e){var t=e.history,a=e.userData,n=e.allContacts,c=e.walletList,l=e.destinationContact,s=e.setForm,i=e.setContactPID,u=e.onOptionsChange,m=e.setBalance,f=e.moveFundsToToUWallet,d=e.form,p=e.balanceOnWallet,E=e.modalOpen,g=e.setOpen,b=e.setDestinationContact,h=e.currency,v=e.checkTransactionConfirmation,N=e.destinationWallets,y=e.checking,O=e.confirmationError,C=e.confirmationData,D=e.loading,j=e.error,S=e.setStep,w=e.data,W=e.step,T=e.DefaultWallet,A=e.errors,F=e.setErrors,P=e.resetState,k=e.shouldClear,x=e.isSendingMoney;return r.a.createElement(o.a,{open:E,shouldClear:k,DefaultWallet:T,userData:a,destinationContact:l,setOpen:g,resetState:P,walletList:c,history:t,destinationWallets:N,allContacts:n,setForm:s,moveFundsToToUWallet:f,currency:h,onOptionsChange:u,form:d,balanceOnWallet:p,modalOpen:E,setDestinationContact:b,checkTransactionConfirmation:v,checking:y,confirmationError:O,confirmationData:C,setContactPID:i,loading:D,error:j,data:w,setBalance:m,errors:A,step:W,setStep:S,setErrors:F,isSendingMoney:x})};s.defaultProps={moveFundsToToUWallet:function(){},loading:!1,setBalance:function(){},currency:l.a.string,checkTransactionConfirmation:function(){},checking:!1,balanceOnWallet:0,setForm:function(){},destinationWallets:[],onOptionsChange:function(){},setOpen:function(){},walletList:[],history:{},setDestinationContact:function(){},modalOpen:!1,step:1,setStep:function(){},DefaultWallet:null,errors:null},t.a=s},1426:function(e,t,a){"use strict";(function(e){var n=a(1),r=a(22),c=a(0),l=a.n(c),o=a(979),s=a(46),i=a(220),u=a(26),m=a(103),f=a(35),d=a(1102),p=(a(1020),a(11)),E=a(315),g=a(1002),b=a(1139),h=a(995),v=a(127),N=a(1016),y=function(t){var a=t.open,y=t.userData,O=t.setOpen,C=t.walletList,D=t.destinationContact,j=t.destinationWallets,S=t.onOptionsChange,w=t.form,W=t.balanceOnWallet,T=t.setForm,A=t.currency,F=t.checkTransactionConfirmation,P=t.checking,k=t.confirmationError,x=t.confirmationData,I=t.moveFundsToToUWallet,R=t.loading,L=t.setDestinationContact,M=t.error,B=t.data,Y=t.errors,U=t.setErrors,z=t.step,K=t.setStep,J=t.resetState,G=t.shouldClear,H=t.isSendingMoney,q=C&&C.find((function(e){return"YES"===e.Default})),Q=Object(c.useState)({}),V=Object(r.a)(Q,2),X=V[0],Z=V[1],$=Object(c.useState)({}),_=Object(r.a)($,2),ee=_[0],te=_[1],ae=Object(p.c)((function(e){return e.contacts})).allContacts.data;Object(c.useEffect)((function(){q&&Z(q)}),[q]);var ne=function(e){e&&te({AccountNumber:e.DefaultWallet.WalletNumber,Flag:e.DefaultWallet.Flag,AccountName:e.DefaultWallet.WalletName||"",Currency:e.DefaultWallet.Currency})};Object(c.useEffect)((function(){if(D&&D.DefaultWallet)ne(D);else if(D&&!D.DefaultWallet&&D.ContactPID){var e=ae.find((function(e){return e.ContactPID===D.ContactPID}));ne(e)}}),[D]),Object(c.useEffect)((function(){ee&&T(Object(n.a)({},w,{user2wallets:ee.AccountNumber}))}),[ee]),Object(c.useEffect)((function(){B&&B[0]&&K(z+1)}),[B]),Object(c.useEffect)((function(){3===z&&(T({}),K(1),U(null),O(!1),L(null),Z(q))}),[z]);var re=Object(b.a)().map((function(e){return{key:e.day,value:e.day,text:e.val}})),ce=function(){T({}),te({}),Z(q),O(!1),K(1),J(),T({}),U(null)};return l.a.createElement(o.a,{transition:{duration:400,animation:"fade"},onClose:function(){return O(!1)},open:a},l.a.createElement(s.a,{size:"small",open:a,closeOnDimmerClick:!1,closeOnDocumentClick:!1,onClose:function(){ce()}},D&&l.a.createElement(s.a.Header,{className:"modal-title"},e.translate("Send Money to "),l.a.createElement("strong",null,D.FirstName)),1===z&&l.a.createElement(s.a.Content,{className:"entities"},l.a.createElement("div",{className:"entities"},l.a.createElement(N.a,{data:y,id:1,name:"sourceWallet",form:w,walletList:C,currentOption:X,setCurrentOption:Z,onChange:S,isSendingMoney:H}),l.a.createElement("h4",{className:"to"},e.translate("To"),": "),D&&l.a.createElement(N.a,{data:{data:D||{}},form:w,name:"user2wallets",id:2,walletList:j&&j.map((function(e){return{AccountNumber:e.WalletNumber,Flag:e.Flag,AccountName:e.WalletName||"",Currency:e.Currency}})),currentOption:ee,setCurrentOption:te,onChange:S})),l.a.createElement("div",{className:"remaining-money-shade"},l.a.createElement("h4",{className:"available"},e.translate("Available Balance in the Selected Wallet"),l.a.createElement("p",{className:"available-value"},W))),l.a.createElement("div",{className:"money-section"},l.a.createElement("div",{className:"amount"},l.a.createElement("span",null,e.translate("Amount",116))," \xa0"),l.a.createElement("div",{className:"amount-value"},l.a.createElement("div",{className:"form-information"},l.a.createElement(i.a,{type:"number",name:"amount",placeholder:e.translate("Amount"),onChange:S,value:w.amount||null}),l.a.createElement("strong",null,A))),l.a.createElement("div",{className:"plus-minus-icons"},l.a.createElement("div",{role:"button",tabIndex:"0",onKeyPress:function(){},className:"icon",onClick:function(){T(Object(n.a)({},w,{amount:parseInt(w.amount,10)-1}))}},l.a.createElement(u.a,{name:"minus",className:"inner-icon"})),l.a.createElement("div",{className:"icon",role:"button",tabIndex:"0",onClick:function(){T(Object(n.a)({},w,{amount:parseInt(w.amount,10)+1}))},onKeyPress:function(){}},l.a.createElement(u.a,{name:"add",className:"inner-icon"})))),l.a.createElement("div",{className:"load-stuff"},Y&&l.a.createElement(v.a,{message:Y}),k&&k[0]&&l.a.createElement(v.a,{message:k&&k[0].Description?e.translate(k&&k[0].Description):e.translate(k.error)}),k&&!k[0]&&l.a.createElement(v.a,{message:e.translate(k.error)}),P&&l.a.createElement(h.a,{loaderContent:e.translate("Working\u2026",412)}))),2===z&&x&&x[0]&&l.a.createElement(s.a.Content,{className:"ss-content"},l.a.createElement("div",{className:"ss-amount"},l.a.createElement("p",null,e.translate("Amount",116),": ")," \xa0\xa0",l.a.createElement("p",null,l.a.createElement("strong",null,x[0].Amount))),l.a.createElement("div",{className:"fees"},l.a.createElement("div",{className:"fees-list"},l.a.createElement("p",null,e.translate("Fees",117)),l.a.createElement("div",{className:"fees-item"},l.a.createElement("p",{className:"left"},e.translate("Fees",117),":"),l.a.createElement("p",{className:"right"},x[0].Fees)),l.a.createElement("div",{className:"fees-item"},l.a.createElement("p",{className:"left"},e.translate("External fees",121),":"),l.a.createElement("p",{className:"right"},x[0].ExternalFees)),l.a.createElement("div",{className:"fees-item"},l.a.createElement("p",{className:"left"},e.translate("Exchange fees",120),":"),l.a.createElement("p",{className:"right"}," ",x[0].ExchangeFees)),l.a.createElement("div",{className:"fees-item"},l.a.createElement("p",{className:"left"},e.translate("Taxes",965),":"),l.a.createElement("p",{className:"right"},x[0].Taxes)))),l.a.createElement("div",{className:"exchange-rate"},l.a.createElement("p",null,e.translate("Exchange Rate",80),"=",x[0].ExchangeRate)),l.a.createElement("div",{className:"amount-to-be-recieved-break-down"},l.a.createElement("div",{className:"fees-item"},l.a.createElement("p",{className:"left",style:{marginTop:"13px"}},e.translate("Total",269),":"),l.a.createElement("p",{className:"right"},l.a.createElement("strong",{className:"bolder",style:{fontSize:"20px",fontWeight:500}},x[0].TotalAmount))),l.a.createElement("div",{className:"fees-item"},l.a.createElement("p",{className:"left",style:{marginTop:"13px"}},e.translate("Amount to be received",397),":"),l.a.createElement("p",{className:"right"}," ",l.a.createElement("strong",{className:"bolder",style:{fontSize:"20px",fontWeight:500}},x[0].AmountToBeSent)))),l.a.createElement("div",{className:"confirm-form"},l.a.createElement(i.a,{name:"reference",onChange:S,value:w.reference||"",placeholder:e.translate("Enter reference here",433)}),l.a.createElement(i.a,{name:"description",onChange:S,value:w.description||"",placeholder:e.translate("Enter description here",434)})),l.a.createElement("div",{className:"one-tme-transfer"},l.a.createElement("p",null,e.translate("Recurring transfer",265)),l.a.createElement(E.a,{id:"isRecurring",name:"isRecurring",value:w.isRecurring||!1,onChange:function(e){return S(e,{name:"isRecurring",value:e})}})),w.isRecurring&&l.a.createElement("div",{className:"recurring"},l.a.createElement("div",{className:"repeat-date"},l.a.createElement("p",{className:"repeated-on"},e.translate("Payment day of the month"),":"," "),l.a.createElement("span",null,l.a.createElement(m.a,{className:"custom-dropdown2",search:!0,name:"day",value:w.day||"",onChange:S,selection:!0,options:re}))),l.a.createElement("div",{className:"from-to-dates"},l.a.createElement("div",{className:"from-two-group"},l.a.createElement("p",{className:"from"}," ",e.translate("From"),":"),l.a.createElement(d.DateInput,{icon:"dropdown",popupPosition:"top left",animation:"fade",placeholder:e.translate("Start date",338),iconPosition:"right",dateFormat:"YYYY-MM-DD",name:"startDate",value:w.startDate?new Date(w.startDate).toDateString():"",onChange:S})),l.a.createElement("div",{className:"from-two-group"},l.a.createElement("p",{className:"from"},e.translate("to"),":"),l.a.createElement(d.DateInput,{icon:"dropdown",popupPosition:"top left",animation:"fade",placeholder:e.translate("End date",398),iconPosition:"right",dateFormat:"YYYY-MM-DD",name:"endDate",value:w.endDate?new Date(w.endDate).toDateString():"",onChange:S}))),l.a.createElement("div",{className:"send-now"},l.a.createElement("p",null,e.translate("Do not send the money now")),l.a.createElement(E.a,{id:"sendNow",name:"sendNow",value:w.sendNow,onChange:function(e){return S(e,{name:"sendNow",value:e})}}))),l.a.createElement("hr",null),l.a.createElement("div",{className:"pin-number"},l.a.createElement(g.a,{label:e.translate("Confirm  your PIN number",941),onChange:S,name:"pin",shouldClear:G,value:w.pin||""})),l.a.createElement("div",{className:"load-stuff",style:{alignSelf:"center"}},Y&&l.a.createElement(v.a,{message:Y}),M&&M[0]&&l.a.createElement(v.a,{message:M&&M[0].Description?e.translate(M[0].Description):e.translate(M.error)}),M&&!M[0]&&l.a.createElement(v.a,{message:e.translate(M.error)}),R&&l.a.createElement(h.a,{loaderContent:e.translate("Working\u2026",412)}))),l.a.createElement(s.a.Actions,null,l.a.createElement(l.a.Fragment,null,1!==z&&3!==z&&l.a.createElement(f.a,{negative:!0,disabled:P||R,onClick:function(){K(z-1),J()}},e.translate("Back")),3!==z&&l.a.createElement(f.a,{negative:!0,disabled:P||R,onClick:function(){ce()}},e.translate("Cancel",86)),l.a.createElement(f.a,{positive:!0,disabled:P||R,onClick:function(){1===z?F():2===z&&I()}},e.translate("Send Money",112))))))};y.defaultProps={moveFundsToToUWallet:function(){},loading:!1,currency:null,isRecurring:!1,checkTransactionConfirmation:function(){},checking:!1,balanceOnWallet:0,setForm:function(){},destinationWallets:[],onOptionsChange:function(){},setOpen:function(){},walletList:[],open:!1,setErrors:function(){},step:1,setStep:function(){},resetState:function(){},shouldClear:!1,isSendingMoney:!1,setDestinationContact:function(){}},t.a=y}).call(this,a(28))},1427:function(e,t,a){"use strict";var n=a(109);t.a=function(e,t){return function(a){return a({type:n.a,payload:{data:e,type:t}})}}},1470:function(e,t,a){"use strict";a.r(t),function(e){var n=a(52),r=a(1),c=a(22),l=a(0),o=a.n(l),s=a(73),i=a(11),u=a(31),m=a(1019),f=a(1425),d=a(222),p=a(403),E=a(1014),g=a(1427),b=a(1155);t.default=function(t){var a=t.setSendMoneyOpen,h=t.sendMoneyOpen,v=t.destinationContact,N=t.setDestinationContact,y=t.isSendingMoney,O=Object(i.c)((function(e){return e.contacts})).allContacts,C=Object(i.c)((function(e){return e.user.myWallets})).walletList,D=Object(i.c)((function(e){return e.user})).userData,j=o.a.useState({}),S=Object(c.a)(j,2),w=S[0],W=S[1],T=Object(l.useState)({}),A=Object(c.a)(T,2),F=A[0],P=A[1],k=Object(l.useState)(0),x=Object(c.a)(k,2),I=x[0],R=x[1],L=Object(l.useState)(null),M=Object(c.a)(L,2),B=M[0],Y=M[1],U=Object(l.useState)([]),z=Object(c.a)(U,2),K=z[0],J=z[1],G=Object(l.useState)(null),H=Object(c.a)(G,2),q=H[0],Q=H[1],V=Object(l.useState)(null),X=Object(c.a)(V,2),Z=X[0],$=X[1],_=Object(l.useState)([]),ee=Object(c.a)(_,2),te=ee[0],ae=ee[1],ne=Object(l.useState)(1),re=Object(c.a)(ne,2),ce=re[0],le=re[1],oe=Object(l.useState)(null),se=Object(c.a)(oe,2),ie=se[0],ue=se[1],me=Object(i.c)((function(e){return e.user.userData.data&&e.user.userData.data.DefaultWallet})),fe=Object(s.g)(),de=Object(i.b)();Object(l.useEffect)((function(){0===C.length&&Object(p.a)()(de)}),[C]),Object(l.useEffect)((function(){P(Object(r.a)({},F,{sourceWallet:me}))}),[me,h]);var pe=Object(i.c)((function(e){return e.moneyTransfer.confirmTransaction})),Ee=pe.checking,ge=pe.confirmationError,be=pe.confirmationData,he=Object(i.c)((function(e){return e.contacts.activeContacts})).data,ve=Object(i.c)((function(e){return e.contacts.activeExternalContacts})).data,Ne=Object(i.c)((function(e){return e.moneyTransfer.moveFundsTo2UWallet})),ye=Ne.loading,Oe=Ne.error,Ce=Ne.data,De=Object(l.useState)(!1),je=Object(c.a)(De,2),Se=je[0],we=je[1];Object(l.useEffect)((function(){Oe&&(Oe&&"FALSE"===Oe[0].UserLoginCorrect?we(!0):we(!1))}),[Oe]),Object(l.useEffect)((function(){be&&be[0]&&le(ce+1)}),[be]);var We=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"internal",a=!1;return"internal"===t&&Array.isArray(he)&&e&&he.filter((function(e){return e&&e.ContactPID})).forEach((function(t){if(t.ContactPID===e.ContactPID)return a=!0,!0})),"internal"!==t&&Array.isArray(ve)&&e&&ve.filter((function(e){return e&&e.PhoneNumber})).forEach((function(t){if(t.PhoneNumber===e.PhoneNumber)return a=!0,!0})),a};Object(l.useEffect)((function(){Ce&&Ce[0]&&(Object(p.a)()(de),"send-money"!==Ce[0].type&&u.b.success(e.translate(Ce[0].Description)),function(){var e={PID:D.data&&D.data.PID,MaxRecordsReturned:"5"};Object(b.a)(e)(de)}(),P({}),Ce[0].TransferNumber&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"internal";We(e,t)||Object(g.a)(v,t)(de)}(v,"external"),Object(m.a)()(de))}),[Ce]);Object(l.useEffect)((function(){P(Object(r.a)({},F,{isRecurring:!1})),P(Object(r.a)({},F,{sendNow:!0}))}),[be]),Object(l.useEffect)((function(){ae(O.data)}),[O.data]);var Te=Object(i.c)((function(e){return e.user.userData.data}));Object(l.useEffect)((function(){Te&&R(Te.Balance)}),[Te]),Object(l.useEffect)((function(){if(F.user2wallets){var e=te.find((function(e){return e.ContactPID===v.ContactPID})),t=e.Wallets&&e.Wallets.find((function(e){return e.WalletNumber===F.user2wallets}));$(t&&t.Currency||"")}}),[F.user2wallets]);var Ae=function(){return Object(d.a)()(de)};Object(l.useEffect)((function(){O.data||Ae()}),[]);var Fe=F.digit0,Pe=F.digit1,ke=F.digit2,xe=F.digit3,Ie="".concat(Fe).concat(Pe).concat(ke).concat(xe);Object(l.useEffect)((function(){if(v){var e=(t=v.ContactPID,O.data&&O.data.find((function(e){return e.ContactPID===t})));W(v.ContactPID),J(e&&e.Wallets),Q(e&&e.CountryCode)}var t}),[v]),Object(l.useEffect)((function(){if(F.sourceWallet&&C){var e=C&&C.find((function(e){return e.AccountNumber===F.sourceWallet}));e&&(R("".concat(e.Balance," ").concat(e.CurrencyCode)),Y(e.CurrencyCode))}}),[F]);return o.a.createElement(f.a,{history:fe,allContacts:O,contacts:te,setErrors:ue,walletList:C,userData:D,onOptionsChange:function(e,t){var a=t.name,c=t.value;P(Object(r.a)({},F,Object(n.a)({},a,c)))},form:F,balanceOnWallet:I,setBalance:R,setForm:P,modalOpen:h,setOpen:a,destinationWallets:K,setDestinationContact:N,setDestinationWallets:K,checkTransactionConfirmation:function(){var t={CountryCode:q,Amount:F.amount&&F.amount.toString(),TargetCurrency:Z||F.user2wallets&&F.user2wallets.substr(0,3),TargetType:"9",SourceWallet:F.sourceWallet};ue(null),function(){var t=!1;return 0===parseFloat(F.amount,10)&&(ue(e.translate("The Transfer amount can not be zero")),t=!0),0===parseFloat(I,10)?(ue(e.translate("You do not have enough money in this wallet for this operation",394)),t=!0,!0):(""!==F.amount&&F.amount||(ue(e.translate("You must enter the amount for this operation.",393)),t=!0),""!==F.user2wallets&&F.user2wallets||(ue(e.translate("Please provide the target wallet number.",437)),t=!0),t)}()||Object(E.b)(t)(de)},currency:B,checking:Ee,confirmationError:ge,confirmationData:be,moveFundsToToUWallet:function(){var t={PIN:Ie,CountryCode:q,Amount:F.amount&&F.amount.toString(),ContactPID:w,UseDefaultWallet:D.data.DefaultWallet===F.sourceWallet?"YES":"No",TargetWallet:F.user2wallets,SourceWallet:F.sourceWallet,DateFrom:F.isRecurring&&F.startDate||"",DateTo:F.isRecurring&&F.endDate||"",Day:F.isRecurring?F.day&&F.day.toString():"0",Reccurent:F.isRecurring?"YES":"No",SendNow:F.sendNow?"YES":"No",Reference:F.reference||"",Description:F.description||""};if(4===Ie.length){if(F.isRecurring){if(""===F.day||!F.day)return void ue(e.translate("Please provide the payment day of the month.",1290));if(""===F.startDate||!F.startDate)return void ue(e.translate("Please provide the starting date",1288));if(""===F.endDate||!F.endDate)return void ue(e.translate("Please provide the ending date",1289));if(F.endDate<=F.startDate)return void ue(e.translate("Please choose an end date thats later than the start date"))}ue(null),Object(m.b)(t)(de)}else ue(e.translate("Please provide your PIN number.",543))},setContactPID:W,destinationContact:v,loading:ye,errors:ie,error:Oe,data:Ce,retryContacts:Ae,DefaultWallet:me,step:ce,setStep:le,resetState:function(){Object(m.a)()(de)},shouldClear:Se,isSendingMoney:y})}}.call(this,a(28))},995:function(e,t,a){"use strict";(function(e){var n=a(1),r=a(0),c=a.n(r),l=a(980),o=(a(1021),function(t){var a=t.paddingTop,r=t.paddingBottom,o=t.loaderSize,s=t.loaderContent,i=t.style;return c.a.createElement("div",{style:Object(n.a)({paddingTop:a,paddingBottom:r},i),className:"appLoader"},c.a.createElement("span",{className:"loader-content"},c.a.createElement("span",null,e.translate(s)," ")," ",c.a.createElement(l.a,{size:o,active:!0,className:"app-loading",inline:"centered",style:{marginLeft:"10px"}})))});o.defaultProps={paddingTop:"",paddingBottom:"",style:{},loaderSize:"small",loaderContent:""},t.a=o}).call(this,a(28))}}]);
//# sourceMappingURL=29.51285e45.chunk.js.map