(this["webpackJsonp2u-web-frontend"]=this["webpackJsonp2u-web-frontend"]||[]).push([[30],{1360:function(e,t,a){"use strict";a.d(t,"b",(function(){return s}));var r=a(1),n=a(199),o=a(27);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(a){return a(Object(o.a)({method:"post",url:"/ChangeUserPwd",data:e,requireAppId:t,onStart:function(){return function(e){return e({type:n.c})}},onSuccess:function(e){return function(t){t({type:n.d,payload:Object(r.a)({},e[0],{success:"Success"===e[0].Result})})}},onFailure:function(e){return function(t){return t({type:n.b,payload:Object(r.a)({},e[0])})}}}))}};var s=function(){return function(e){e({type:n.a})}}},1361:function(e,t,a){"use strict";(function(e){var r=a(22),n=a(0),o=a.n(n),s=a(11),c=a(1382),l=a.n(c),i=a(1150),u=a.n(i),d=(a(1383),function(t){var a=t.message,c=t.title,i=t.success,d=t.callbackFn,m=Object(n.useState)(!1),p=Object(r.a)(m,2),f=p[0],b=p[1],g=Object(s.b)();return Object(n.useEffect)((function(){b(!0),setTimeout((function(){b(!1),d&&d()(g)}),7e3)}),[]),o.a.createElement(o.a.Fragment,null,f?o.a.createElement("div",{className:"feedbackWrapper",onClick:function(){b(!1),d&&d()(g)}},o.a.createElement("div",{className:"feedbackWrapper-content"},o.a.createElement("img",{src:i?u.a:l.a,alt:"status",width:100}),o.a.createElement("div",{className:"titleText"},e.translate(c).toUpperCase()),o.a.createElement("p",{className:"messageText"},e.translate(a)))):o.a.createElement(o.a.Fragment,null))});d.defaultProps={title:"SORRY",callbackFn:function(){},success:!1,message:"Invalid credential,please try again"},t.a=d}).call(this,a(28))},1378:function(e,t,a){"use strict";(function(e){var r=a(52),n=a(1),o=a(22),s=a(0),c=a.n(s),l=a(401),i=(a(1379),a(11)),u=a(31),d=a(1144),m=a(1380),p=a(1360),f=a(144),b=function(t){var a=t.style,b=t.OTP,g=t.PID,E=Object(i.b)(),w=Object(i.c)((function(e){return e.userAccountManagement})).updatePassword,O=Object(f.a)(),j=Object(s.useState)({}),v=Object(o.a)(j,2),P=v[0],h=v[1],y=Object(s.useState)({oldPassword:"",password:"",confirmPassword:""}),C=Object(o.a)(y,2),N=C[0],I=C[1],S=function(e){var t=e.target,a=t.name,o=t.value;!function(e){h(Object(n.a)({},P,Object(r.a)({},e,"")))}(a),I(Object(n.a)({},N,Object(r.a)({},a,o)))};return Object(s.useEffect)((function(){w.success&&(u.b.success(w.Description),I({oldPassword:"",password:"",confirmPassword:""}),Object(p.b)()(E)),w.error&&u.b.error(w.error.Description)}),[w]),c.a.createElement("div",{style:O.width>500?a:{},className:"change-password-container large-padding border-1 b-light-grey border-radius-4 medium-v-margin xlarge-h-margin"},c.a.createElement(l.a,null,c.a.createElement(d.a,{fluid:!0,placeholder:e.translate("Old password"),name:"oldPassword",onChange:S,error:P&&P.oldPassword||!1,value:N&&N.oldPassword,type:"password"}),c.a.createElement(m.a,{buttonText:e.translate("Change password"),errors:P,passwordData:{password:N&&N.password,confirmPassword:N&&N.confirmPassword},onInputChange:S,onClick:function(){if(!function(){var t=N.oldPassword,a=N.password,r=N.confirmPassword,o=t?"":e.translate("Please enter the old password"),s=a?"":e.translate("Please enter your password"),c=r?"":e.translate("Confirm your new password",45),l=a===r?"":e.translate("The new passwords do not match.",325);return h(Object(n.a)({},P,{oldPassword:o,password:s,confirmPassword:c,confirmation:c?"":l})),!(o||s||c||l)}())return!1;var t=N.oldPassword,a=N.password;return Object(p.a)({Pwd:t,NewPwd:a,OTP:b,PID:g},!!b)(E),!0},loading:w.loading})))};b.defaultProps={style:{},OTP:"",PID:""},t.a=b}).call(this,a(28))},1379:function(e,t,a){},1380:function(e,t,a){"use strict";(function(e){var r=a(22),n=a(0),o=a.n(n),s=a(401),c=a(102),l=a(1144),i=a(1078),u=a.n(i),d=a(1150),m=a.n(d),p=(a(1381),a(1151)),f=function(t){var a=t.passwordData,i=t.onInputChange,d=t.clearError,f=t.errors,b=t.buttonText,g=t.onClick,E=t.loading,w=a.password,O=a.confirmPassword,j=Object(n.useState)(0),v=Object(r.a)(j,2),P=v[0],h=v[1];Object(n.useEffect)((function(){var e=Object(p.a)(w),t=0;Object.keys(e).map((function(a){return e[a]&&(t+=25),!0})),h(t)}),[w]);var y=function(e){return e<=50?{label:"Very Weak",color:"#F42C10"}:75===e?{label:"Weak",color:"#EA5726"}:100!==e||{label:"Strong",color:"#0A9220"}};return o.a.createElement(s.a,{className:"form-password-input"},o.a.createElement(s.a.Field,null,o.a.createElement(l.a,{placeholder:"Enter your password",name:"password",type:"password",error:f.password||!1,value:w,onChange:function(e){i(e),d(e)}})),o.a.createElement("span",null,"Password strength:",o.a.createElement("span",{style:{color:y(P).color}}," ".concat(y(P).label))),o.a.createElement("div",{className:"password-strength",style:{}},o.a.createElement("div",{className:"password-strength-bar",style:{width:"".concat(P,"%"),background:y(P).color}})),o.a.createElement("div",{className:"checklist"},o.a.createElement("div",{className:"password-checklist"},o.a.createElement("img",{src:Object(p.a)(w).case?m.a:u.a,alt:"edit"}),o.a.createElement("span",null,"Enter at least one lowercase and upper case")),o.a.createElement("div",{className:"password-checklist"},o.a.createElement("img",{src:Object(p.a)(w).digit?m.a:u.a,alt:"edit"}),o.a.createElement("span",null,"Enter at least one number (1-9)")),o.a.createElement("div",{className:"password-checklist"},o.a.createElement("img",{src:Object(p.a)(w).specialCharacter?m.a:u.a,alt:"edit"}),o.a.createElement("span",null,"Enter at least a special character (!@#$%^&*)")),o.a.createElement("div",{className:"password-checklist"},o.a.createElement("img",{src:Object(p.a)(w).number?m.a:u.a,alt:"edit"}),o.a.createElement("span",null,"Enter at least 8 characters"))),o.a.createElement(s.a.Field,null,o.a.createElement(l.a,{placeholder:"Confirm your password",name:"confirmPassword",type:"password",error:f.confirmPassword||!1,value:O,onChange:function(e){i(e),d(e)}})),f.confirmation&&o.a.createElement(s.a.Field,{style:{marginTop:"-7px"}},o.a.createElement(c.a,{prompt:!0},f.confirmation)),o.a.createElement(s.a.Button,{type:"button",loading:E,primary:!0,disabled:100!==P,onClick:g},e.translate(b)))};f.defaultProps={onInputChange:function(){return null},clearError:function(){return null},onClick:function(){return null},passwordData:{password:"",confirmPassword:""},errors:{},buttonText:"Next",loading:!1},t.a=f}).call(this,a(28))},1381:function(e,t,a){},1382:function(e,t,a){e.exports=a.p+"static/media/error.a48d0b4f.png"},1383:function(e,t,a){},1500:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a(205),n=a(27);t.b=function(e){return function(t){return t(Object(n.a)({method:"post",url:"/CheckUserCredential",data:e,onStart:function(){return function(e){return e({type:r.c})}},onSuccess:function(e){return function(t){return e&&e[0]?"FAILED"!==e[0].Result?t({type:r.d,payload:{data:e}}):t({type:r.b,payload:{error:e}}):null}},onFailure:function(e){return function(t){return t({type:r.b,payload:{error:e}})}}}))}};var o=function(){return function(e){return e({type:r.a})}}},1501:function(e,t,a){"use strict";(function(e){var r=a(1),n=a(22),o=a(0),s=a.n(o),c=(a(1502),a(31)),l=a(11),i=a(1359),u=a(1378),d=a(1503),m=function(t){var a=t.handleChange,m=t.handleSubmit,p=t.credentials,f=t.error,b=t.loading,g=t.pidError,E=t.passwordError,w=t.pinError,O=t.clearLoginUser,j=t.isFormValid,v=t.setCredentials,P=Object(o.useState)(!1),h=Object(n.a)(P,2),y=h[0],C=h[1],N=Object(o.useState)(null),I=Object(n.a)(N,2),S=I[0],D=I[1],k=Object(o.useState)(null),F=Object(n.a)(k,2),T=F[0],L=F[1],U=Object(l.c)((function(e){return e.userAccountManagement})).updatePassword;return Object(o.useEffect)((function(){U.success&&(C(!1),v(Object(r.a)({},p,{Password:""})))}),[U]),Object(o.useEffect)((function(){p&&!U.success&&p.PID&&D(p.PID)}),[p,U]),Object(o.useEffect)((function(){f&&f.error&&f.error[0]&&"YES"===f.error[0].UserMustChangePassword&&(Object(c.b)(e.translate(f.error[0].Description),{autoClose:3e4,type:"error",toastId:13}),L(f.error[0].OTP),C(!0))}),[f]),s.a.createElement(i.a,{authHeader:e.translate("Welcome Back"),rightHeadlineText:y?e.translate("Change your Password"):e.translate("Login to your account",1430)},s.a.createElement("div",{className:"form-content"},y?s.a.createElement(u.a,{style:{marginLeft:"-40px"},OTP:T,PID:S}):s.a.createElement(d.a,{handleChange:a,onSubmit:m,isLoading:b,credentials:p,error:f,pidError:g,pinError:w,passwordError:E,isFormValid:j,clearLoginUser:O})))};m.defaultProps={loading:!1,error:null,pidError:null,passwordError:null,pinError:null,isFormValid:!1,clearLoginUser:function(){},setCredentials:function(){}},t.a=m}).call(this,a(28))},1502:function(e,t,a){},1503:function(e,t,a){"use strict";(function(e){var r=a(0),n=a.n(r),o=a(221),s=a(401),c=a(972),l=a(1361),i=a(1144),u=a(1002),d=(a(1504),function(t){var a=t.handleChange,r=t.credentials,d=t.onSubmit,m=t.isLoading,p=t.error,f=t.pidError,b=t.passwordError,g=t.pinError,E=t.clearLoginUser;return n.a.createElement(n.a.Fragment,null,p&&n.a.createElement(l.a,{message:p.error[0]?e.translate(p.error[0].Description):e.translate(p.error.error,162),title:"error",callbackFn:E}),!p&&n.a.createElement(s.a,{className:"form-information",onSubmit:d,autoComplete:"off"},n.a.createElement(s.a.Field,null,n.a.createElement(s.a.Input,{error:f&&{content:e.translate(f.toString()),pointing:"above"},className:"formInput",placeholder:e.translate("Personal ID"),name:"PID",value:r.PID&&r.PID.toUpperCase()||"",onChange:a})),n.a.createElement(s.a.Field,null,n.a.createElement(i.a,{error:b&&{content:e.translate(b.toString()),pointing:"above"},placeholder:e.translate("Password"),onChange:a,type:"password",name:"Password",value:r.Password||"",icon:"eye"})),n.a.createElement(u.a,{pinError:g,onChange:a,name:"PIN",value:r.PIN||""}),null!==p?n.a.createElement(c.a,{negative:!0,visible:null!==p},n.a.createElement(c.a.Header,null,e.translate("Error")),n.a.createElement("p",null,p&&p.error&&p.error[0]?e.translate(p.error[0].Description):e.translate(p&&p.error&&p.error.error))):null,n.a.createElement(s.a.Button,{primary:!0,loading:m,disabled:m,fluid:!0,onClick:d,type:"submit",className:"submit-button"},e.translate("Connect").toUpperCase()),n.a.createElement("span",{className:"from_login_link"},n.a.createElement(o.b,{to:"/reset-password"},e.translate("Forgot your Password or your PIN ?",182))," "),n.a.createElement("p",null,e.translate("Not yet registered?",1200)," ",n.a.createElement("span",{className:"from_login_link"},n.a.createElement(o.b,{to:"/register"},e.translate("Sign up"))," ")," ")))});d.defaultProps={isLoading:!1,error:null,pidError:null,passwordError:null,pinError:null,isFormValid:!1,clearLoginUser:function(){}},t.a=d}).call(this,a(28))},1504:function(e,t,a){},1505:function(e,t,a){"use strict";var r=a(22),n=a(0);t.a=function(){var e=Object(n.useState)({}),t=Object(r.a)(e,2),a=t[0],o=t[1];return Object(n.useEffect)((function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,a=t.latitude,r=t.longitude;o({latitude:a,longitude:r})}),(function(){o({latitude:0,longitude:0})}))}),[]),a}},1506:function(e,t,a){"use strict";var r=a(1507),n=a.n(r);t.a=function(){var e=new n.a,t=navigator.userAgent,a=e.parse(t),r=a.os,o=a.client,s=a.device;return{deviceType:"tablet"===s.type?2:"GNU/Linux"===r.name?6:"smartphone"===s.type?1:"Windows"===r.name?5:"Mac"===r.name?4:0,deviceOs:r.name,clientName:o.name,clientVersion:o.version,osVersion:r.version}}},1927:function(e,t,a){"use strict";a.r(t),function(e){var r=a(52),n=a(1),o=a(22),s=a(0),c=a.n(s),l=a(11),i=a(73),u=a(1500),d=a(412),m=a(1501),p=a(1505),f=a(1506);t.default=function(){var t=Object(l.b)(),a=Object(i.g)(),b=Object(l.c)((function(e){return e})).user.userLocationData;Object(s.useEffect)((function(){(null===b||void 0===b?void 0:b.CountryCode)||Object(d.a)()(t)}),[]);var g=Object(s.useState)({}),E=Object(o.a)(g,2),w=E[0],O=E[1],j=Object(s.useState)(null),v=Object(o.a)(j,2),P=v[0],h=v[1],y=Object(s.useState)(null),C=Object(o.a)(y,2),N=C[0],I=C[1],S=Object(s.useState)(!1),D=Object(o.a)(S,2),k=D[0],F=D[1],T=Object(s.useState)(null),L=Object(o.a)(T,2),U=L[0],x=L[1],V=w.digit0,A=w.digit1,W=w.digit2,M=w.digit3,R="".concat(V).concat(A).concat(W).concat(M),_=Object(p.a)(),B=Object(f.a)(),H=B.deviceType,J=B.deviceOs,Y=B.osVersion,$=B.clientName,q=B.clientVersion,G={PID:w.PID||"",Password:w.Password||"",PIN:R||"",CountryCode:b&&b.CountryCode||"",PhoneNumber:"",IMEI:"",SerialNumber:"",DeviceOS:J||"",Description:"2U Web Authentication",OSVersion:Y||"",MAC:"Not found",Roaming:"0",DeviceType:H,AppType:4,Longitude:_.longitude||0,Latitude:_.latitude||0,ClientName:$,ClientVersion:q};Object(s.useEffect)((function(){""!==G.PID&&""!==G.Password&&4===G.PIN.length?F(!0):F(!1)}),[G]);var z=Object(l.c)((function(e){return e.user.login})),K=z.error,Q=z.loading,X=Object(l.c)((function(e){return e.user.currentUser})).authData;Object(s.useEffect)((function(){K&&(O(Object(n.a)({},w,{digit0:""})),O(Object(n.a)({},w,{digit1:""})),O(Object(n.a)({},w,{digit2:""})),O(Object(n.a)({},w,{digit3:""})))}),[K]),Object(s.useEffect)((function(){X&&"NO"!==X.Result&&a.push("/")}),[X,a]);return c.a.createElement(m.a,{credentials:w,handleChange:function(e,t){var a=t.name,o=t.value;O(Object(n.a)({},w,Object(r.a)({},a,o)))},handleSubmit:function(){!G.PID.length>0?h("Please provide a valid Personal ID"):(h(null),!G.Password>0?I("Please provide a valid Password. It must contains at least 8 digits and at least one special character such as (!@#$%&*).",46):(I(null),4===G.PIN.length?(x(null),Object(u.b)(G)(t)):x(e.translate("Please provide your PIN number.",543))))},loading:Q,error:K,setCredentials:O,form:w,pidError:P,passwordError:N,pinError:U,isFormValid:k,clearLoginUser:u.a})}}.call(this,a(28))}}]);
//# sourceMappingURL=30.9f31bcc6.chunk.js.map